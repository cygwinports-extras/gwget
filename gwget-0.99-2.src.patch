diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/gwget-0.99/configure.in src/gwget-0.99/configure.in
--- origsrc/gwget-0.99/configure.in	2007-05-28 12:32:40.000000000 -0500
+++ src/gwget-0.99/configure.in	2008-06-11 04:03:38.875000000 -0500
@@ -101,9 +101,11 @@
                        [Whether to use epiphany version 1.6 or 1.8 or 1.10 or 2.14 (default 1.6)]),
         [EPHY_VER="$withval"])
 
-dnl try to autodetect Epiphany 1.2, 1.4, 1.6, 1.8, 1.10, 2.14, 2.15, 2.16, 2.17 or 2.18
+dnl try to autodetect Epiphany 1.2, 1.4, 1.6, 1.8, 1.10, 2.14, 2.15, 2.16, 2.17, 2.18, or 2.22
 EPHY_AUTODETECT="(autodetect)"
-if pkg-config --exists epiphany-2.18; then
+if pkg-config --exists epiphany-2.22; then
+	EPHY_VER=2.22
+elif pkg-config --exists epiphany-2.18; then
 	EPHY_VER=2.18
 elif pkg-config --exists epiphany-2.17; then
         EPHY_VER=2.17
@@ -170,6 +172,10 @@
 	  EPIPHANY_PKGCONFIG=epiphany-2.18
           EPIPHANY_REQUIRED=2.18
 	  EPIPHANY_SHORTVER=218
+elif test "x$EPHY_VER" = "x2.22"; then
+          EPIPHANY_PKGCONFIG=epiphany-2.22
+          EPIPHANY_REQUIRED=2.22
+          EPIPHANY_SHORTVER=222
 else
      	AC_MSG_RESULT([no epiphany installed])
 fi
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/gwget-0.99/data/gwget.glade src/gwget-0.99/data/gwget.glade
--- origsrc/gwget-0.99/data/gwget.glade	2007-05-06 14:02:08.000000000 -0500
+++ src/gwget-0.99/data/gwget.glade	2008-06-11 04:07:38.812500000 -0500
@@ -103,6 +103,7 @@
                                 <property name="visible">True</property>
                                 <property name="label" translatable="yes">Remove completed</property>
                                 <property name="use_underline">True</property>
+                                <signal name="activate" handler="on_remove_completed_activate"/>
                               </widget>
                             </child>
                             <child>
@@ -110,6 +111,7 @@
                                 <property name="visible">True</property>
                                 <property name="label" translatable="yes">Remove inactive</property>
                                 <property name="use_underline">True</property>
+                                <signal name="activate" handler="on_remove_notrunning_activate"/>
                               </widget>
                             </child>
                             <child>
@@ -117,6 +119,7 @@
                                 <property name="visible">True</property>
                                 <property name="label" translatable="yes">Remove all</property>
                                 <property name="use_underline">True</property>
+                                <signal name="activate" handler="on_remove_all_activate"/>
                               </widget>
                             </child>
                           </widget>
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/gwget-0.99/epiphany-extension/Makefile.am src/gwget-0.99/epiphany-extension/Makefile.am
--- origsrc/gwget-0.99/epiphany-extension/Makefile.am	2007-04-21 14:01:17.000000000 -0500
+++ src/gwget-0.99/epiphany-extension/Makefile.am	2008-06-11 04:22:40.468750000 -0500
@@ -7,6 +7,7 @@
 
 INCLUDES =				\
  	$(EPIPHANY_DEPENDENCY_CFLAGS)	\
+    $(GNOME_CFLAGS)		\
 	-DSHARE_DIR=\"$(pkgdatadir)\"                   \
         -DEPHY_EXTENSIONS_LOCALEDIR=\"$(datadir)/locale\"  \
 	-I$(top_srcdir)/src		\
@@ -20,7 +21,12 @@
  	$(top_builddir)/src/gwget-application.h \
  	$(top_builddir)/src/gwget-application.c  
 
-libgwgetextension_la_LDFLAGS = -module -avoid-version 
+libgwgetextension_la_LDFLAGS = -module -avoid-version -no-undefined -export-symbols $(srcdir)/gwget.def
+
+libgwgetextension_la_LIBADD =		\
+	$(EPIPHANY_DEPENDENCY_LIBS)		\
+	$(GNOME_LIBS)		\
+	$(DBUS_LIBS)
 
 extensionxmldir = $(extensiondir)
 extensionxml_in_files = gwget.xml.in.in
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/gwget-0.99/epiphany-extension/gwget.def src/gwget-0.99/epiphany-extension/gwget.def
--- origsrc/gwget-0.99/epiphany-extension/gwget.def	1969-12-31 18:00:00.000000000 -0600
+++ src/gwget-0.99/epiphany-extension/gwget.def	2008-06-11 04:22:06.062500000 -0500
@@ -0,0 +1,4 @@
+IMPORTS
+gwget_data_new = gwget.exe.gwget_data_new
+gwget_data_add_download = gwget.exe.gwget_data_add_download
+gwget_data_start_download = gwget.exe.gwget_data_start_download
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/gwget-0.99/gwget.desktop.in src/gwget-0.99/gwget.desktop.in
--- origsrc/gwget-0.99/gwget.desktop.in	2007-04-21 14:01:19.000000000 -0500
+++ src/gwget-0.99/gwget.desktop.in	2008-06-11 04:04:32.687500000 -0500
@@ -10,7 +10,7 @@
 Terminal=false
 X-MultipleArgs=false
 Type=Application
-Categories=Application;Network;
+Categories=Network;FileTransfer;GNOME;GTK
 X-GNOME-Bugzilla-Bugzilla=GNOME
 X-GNOME-Bugzilla-Product=gwget
 X-GNOME-Bugzilla-Component=General
